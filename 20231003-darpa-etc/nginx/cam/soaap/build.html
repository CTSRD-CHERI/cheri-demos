<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- DO NOT EDIT: file automatically generated by ucampas from
     /Users/graemejenkinson/cheri-website/cam/soaap/build-b.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><meta content="text/css" http-equiv="Content-Style-Type" /><title>Getting started</title><link rel="stylesheet" type="text/css" media="all" href="https://www.cl.cam.ac.uk/style/layout.css" /><link rel="stylesheet" type="text/css" media="print" href="https://www.cl.cam.ac.uk/style/print.css" /><link href="https://www.cl.cam.ac.uk/style/blue.css" media="all" rel="stylesheet" type="text/css" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="soaap.css" rel="stylesheet" type="text/css" /><link href="workflow.html" rel="Next" /><link href="." rel="Up" /></head><body class="two-col dept">
<div id="skip"> <a href="#skip-content" accesskey="2">Skip to content</a>&#160;|&#160;<a href="https://www.cam.ac.uk/site/accesskeys.html" accesskey="0">Access key help</a> </div><div id="header">
  <div id="branding"><a href="https://www.cam.ac.uk/" accesskey="1"><img src="https://www.cl.cam.ac.uk/images/identifier.svg" alt="University of Cambridge" class="ucam" /></a>
  </div>

    <div id="site-search">

    <form action="http://web-search.cam.ac.uk/query.html" method="get">
      <fieldset>
      <label for="search-term">Search</label>
      <input name="qt" type="text" id="search-term" accesskey="4" value="" />
      <input id="search-button" src="https://www.cl.cam.ac.uk/images/button-search.gif" value="Search" alt="Search" title="Search" type="image" />
      </fieldset>
    </form>

    </div>
</div>

<div id="dept-title">
<h1><a href="../"></a></h1></div>

<div id="container"> <a name="skip-content" id="skip-content"></a>
<ul id="nav-breadcrumb"></ul><ul id="nav-primary"><li><div><a href="../">CTSRD&#160;&#187;</a></div></li><li><div><a href="../news.html">Project news</a></div></li><li><div><a href="../beri/">Bluespec Extensible RISC Implementation (BERI)&#160;&#187;</a></div></li><li><div><a href="../../capsicum/">Capsicum&#160;&#8594;</a></div></li><li><div><a href="../cheri/">Capability Hardware Enhanced RISC Instructions (CHERI)&#160;&#187;</a></div></li><li><div><a href=".">Security-Oriented Analysis of Application Programs (SOAAP)&#160;&#187;</a></div><ul><li class="active"><div><a href="build.html">Getting started</a></div></li><li><div><a href="workflow.html">Workflow</a></div></li><li><div><a href="annotations.html">Annotations</a></div></li><li><div><a href="flags.html">Command-line flags</a></div></li></ul></li><li><div><a href="../tesla/">Temporally Enhanced Security Logic Assertions (TESLA)&#160;&#187;</a></div></li><li><div><a href="../smten.html">Enhancing the Satisfiability Modulo Theories Experience (Smten)</a></div></li><li><div><a href="../publications.html">Publications</a></div></li><li><div><a href="../data/">Open Data&#160;&#187;</a></div></li><li><div><a href="../posters-slides.html">Posters and slides</a></div></li><li><div><a href="../people.html">Project members</a></div></li><li><div><a href="../related.html">Related</a></div></li></ul><div id="content"><div id="sub-brand"><p class="section">SOAAP</p></div><div id="content-primary">
<h1>Building SOAAP and related tools</h1>

<p>
We are pleased to announce that an early prototype version of the Clang/LLVM-
based SOAAP toolchain is now available to try out.  Please send any queries to
<a href="/~kg365/">Khilan Gudka</a> and <a href="/~rnw24/">Robert Watson</a>.
</p>

<p>
Some preliminary notes:
</p>

<ul>
  <li>Currently SOAAP is built, run and tested on FreeBSD 10.0.</li>
  <li>Create a directory in which all soaap-related files will reside.
  In these instructions,
  we will assume the directory '/home/me/workspace' is used for this
  purpose.</li>
  <li>CMake &gt;= 2.8.9 and Ninja 1.0.0 are required to build Clang/LLVM
  and the Soaap LLVM pass.</li>
  <li>SOAAP includes <a href="http://github.com/juniper/libxo">libxo</a> as a
  git submodule, which it uses for producing output in text, HTML, JSON and
  XML.</li>
  <li>SOAAP requires libc++ r194154 or newer. If you cannot build SOAAP, it
  might be because your libc++ isn't new enough. A more recent version can be
  installed from ports. Add -DCMAKE_PREFIX_PATH=/usr/local when building SOAAP
  to ensure CMake finds a ports installation of libc++.</li>
</ul>

<h3>LLVM/Clang</h3>
<p>
  [me@mymachine ~/workspace]$ git clone https://github.com/CTSRD-SOAAP/llvm.git<br />
  [me@mymachine ~/workspace]$ cd llvm/tools<br />
  [me@mymachine ~/workspace/llvm/tools]$ git clone https://github.com/CTSRD-SOAAP/clang.git<br />
  [me@mymachine ~/workspace/llvm/tools]$ cd ..<br />
  [me@mymachine ~/workspace/llvm]$ mkdir Build<br />
  [me@mymachine ~/workspace/llvm]$ cd Build<br />
  [me@mymachine ~/workspace/llvm/Build]$ cmake -G Ninja -DCMAKE_BUILD_TYPE=Release -DBUILD_SHARED_LIBS=ON ..<br />
  [me@mymachine ~/workspace/llvm/Build]$ ninja (note: you can customise the number of threads used by ninja using the -j flag)<br />
</p>
<h3>SOAAP tool</h3>
<p>
  [me@mymachine ~/workspace/llvm/Build]$ cd ../..<br />
  [me@mymachine ~/workspace]$ git clone --recursive https://github.com/CTSRD-SOAAP/soaap.git<br />
  [me@mymachine ~/workspace]$ cd soaap<br />
  [me@mymachine ~/workspace/soaap]$ LLVM_PREFIX=`pwd`/../llvm/Build ./run-cmake.sh<br />
  [me@mymachine ~/workspace/soaap]$ ninja -C Build/Release<br />
</p>
<p>
  The <tt>soaap</tt> binary has now been built at
  <tt>Build/Release/bin/soaap</tt>. To build a debug version of SOAAP, run the
  following instead:<br /><br />
  [me@mymachine ~/workspace/soaap]$ BUILD_TYPE=Debug LLVM_PREFIX=`pwd`/../llvm/Build ./run-cmake.sh<br />
  [me@mymachine ~/workspace/soaap]$ ninja -C Build/Debug<br />
</p>
<p>
Note that because SOAAP depends on
submodules, you will need to ensure that they are updated when you pull from
the SOAAP git repository. This can be achieved by passing the --recurse-submodules flag
to git pull, as in: <br />
<br />
[me@mymachine ~/workspace/soaap]$ git pull --recurse-submodules
</p>

</div></div><ul id="site-info"><li class="copy">&#169; 2014-2016 Khilan Gudka<br />Information provided by <a href="/~kg365/">Khilan Gudka</a></li></ul></div>
</body></html>