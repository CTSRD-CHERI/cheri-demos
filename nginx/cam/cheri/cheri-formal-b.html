<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<title>CHERI Rigorous Engineering</title>
<style type="text/css">
</style>
<body>


<h1>CHERI Rigorous Engineering</h1>

<p>
  CHERI uses a range of <em>rigorous engineering</em> techniques to speed development and increase assurance, in a hardware/software/semantics co-design process.   We use formal models of the complete instruction-set architectures (ISA) at the heart of our design and engineering, both in lightweight ways that support and improve normal engineering practice - as documentation, in emulators used as a test oracle for hardware and for running software, and for test generation - and for formal verification.  We formalise key intended security properties of the ISA specifications, and establish that these hold with mechanised proof.  This is for the same complete ISA models (complete enough to boot operating systems), without idealisation.
</p>
<p>
  Our work on CHERI C/C++, and on porting software to them, is also informed by and informs our <a href="https//www.cl.cam.ac.uk/~pes20/cerberus">Cerberus</a> work on de facto and ISO C semantics.
</p>
<p>
All this is in collaboration with the <a href="https://www.cl.cam.ac.uk/~pes20/rems/">REMS project</a>. 
</p>


<h2>ISA models</h2>
<p>
Our principal models, in our <a href="https://www.cl.cam.ac.uk/~pes20/sail/">Sail</a> instruction-set definition language, are:
</p>

<ul>
<li> <a href="https://github.com/CTSRD-CHERI/sail-cheri-mips">CHERI-MIPS</a></li>

<li> <a href="https://github.com/CTSRD-CHERI/sail-cheri-riscv">CHERI-RISC-V</a></li>

<li> <a href="https://github.com/rems-project/sail-riscv">RISC-V</a> </li>
</ul>

<p>
From these, Sail generates sequential emulators, in C and OCaml, and theorem-prover definitions, in Coq, HOL4, and Isabelle, and SMT.
The Sail instruction semantics is included, typeset automatically, in the <a href="https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-927.pdf">CHERI ISA Specification</a>.
</p>

<p>
The Sail CHERI-MIPS model is developed from an earlier model in Fox's <a href="https://acjf3.github.io/l3/">L3</a> instruction-set definition language:
</p>
<ul>
<li> <a href="https://github.com/acjf3/l3mips">CHERI-MIPS (L3 model)</a></li>
</ul>

<p>
L3 also generates an emulator and Isabelle and HOL4 versions of the model.
</p>

<p>
We use the Sail (and L3) generated emulators as oracles to test CHERI hardware against, and to test and bring up CHERI software, the generated Isabelle definitions for formal mechanised proof of ISA security properties, and the generated SMT definitions for SMT checking of more specific properties.
</p>


<h2>Papers and documentation</h2>

<!-- THIS PART IS AUTOGENERATED - ASK PETER SEWELL BEFORE HAND-EDITING -->
<!-- (make install-cheriformal-ctsrd in MyWWW, AND PASTE IN -->
<!-- cheriformal.html BEFORE THE CLOSING body TAG) -->


<ul>

<li>
<a name="cheri-formal-SP2020"></a>


Rigorous engineering for hardware security: Formal modelling
  and proof in the CHERI design and implementation process.
 Kyndylan Nienhuis, Alexandre Joannou, Thomas Bauereiss, Anthony Fox,
  Michael Roe, Brian Campbell, Matthew Naylor, Robert&nbsp;M. Norton, Simon&nbsp;W.
  Moore, Peter&nbsp;G. Neumann, Ian Stark, Robert N.&nbsp;M. Watson, and Peter Sewell.
 In Security and Privacy 2020.
[&nbsp;<a href="cheriformal_bib.html#cheri-formal-SP2020">bib</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/research/security/ctsrd/cheri/">project page</a>&nbsp;| 
<a href="../pdfs/202005oakland-cheri-formal.pdf">pdf</a>&nbsp;| 
<a href="cheriformal_abstracts.html#cheri-formal-SP2020">abstract</a>&nbsp;]

</li>


<li>
<a name="UCAM-CL-TR-941"></a>


An Introduction to CHERI.
 Robert N.&nbsp;M. Watson, Simon&nbsp;W. Moore, Peter Sewell, and Peter Neumann.
 Technical Report UCAM-CL-TR-941, University of Cambridge, Computer
  Laboratory, September 2019.
[&nbsp;<a href="cheriformal_bib.html#UCAM-CL-TR-941">bib</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/research/security/ctsrd/cheri/">project page</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-941.pdf">pdf</a>&nbsp;| 
<a href="cheriformal_abstracts.html#UCAM-CL-TR-941">abstract</a>&nbsp;]

</li>


<li>
<a name="cheri-formal-tr"></a>


Rigorous engineering for hardware security: Formal modelling
  and proof in the CHERI design and implementation process.
 Kyndylan Nienhuis, Alexandre Joannou, Anthony Fox, Michael Roe,
  Thomas Bauereiss, Brian Campbell, Matthew Naylor, Robert&nbsp;M. Norton, Simon&nbsp;W.
  Moore, Peter&nbsp;G. Neumann, Ian Stark, Robert N.&nbsp;M. Watson, and Peter Sewell.
 Technical Report UCAM-CL-TR-940, University of Cambridge, Computer
  Laboratory, September 2019.
[&nbsp;<a href="cheriformal_bib.html#cheri-formal-tr">bib</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-940.pdf">pdf</a>&nbsp;| 
<a href="cheriformal_abstracts.html#cheri-formal-tr">abstract</a>&nbsp;]

</li>


<li>
<a name="UCAM-CL-TR-927"></a>


Capability Hardware Enhanced RISC Instructions: CHERI
  Instruction-Set Architecture (Version 7).
 Robert N.&nbsp;M. Watson, Peter&nbsp;G. Neumann, Jonathan Woodruff, Michael
  Roe, Hesham Almatary, Jonathan Anderson, John Baldwin, David Chisnall, Brooks
  Davis, Nathaniel&nbsp;Wesley Filardo, Alexandre Joannou, Ben Laurie, A.&nbsp;Theodore
  Markettos, Simon&nbsp;W. Moore, Steven&nbsp;J. Murdoch, Kyndylan Nienhuis, Robert
  Norton, Alex Richardson, Peter Rugg, Peter Sewell, Stacey Son, and Hongyan
  Xia.
 Technical Report UCAM-CL-TR-927, University of Cambridge, Computer
  Laboratory, June 2019.
 496pp.
[&nbsp;<a href="cheriformal_bib.html#UCAM-CL-TR-927">bib</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-927.pdf">pdf</a>&nbsp;| 
<a href="cheriformal_abstracts.html#UCAM-CL-TR-927">abstract</a>&nbsp;]

</li>


<li>
<a name="cheriABIsub"></a>


CheriABI: Enforcing Valid Pointer Provenance and Minimizing
  Pointer Privilege in the POSIX C Run-time Environment.
 Brooks Davis, Robert N.&nbsp;M. Watson, Alexander Richardson, Peter&nbsp;G.
  Neumann, Simon&nbsp;W. Moore, John Baldwin, David Chisnall, James Clarke,
  Nathaniel&nbsp;Wesley Filardo, Khilan Gudka, Alexandre Joannou, Ben Laurie,
  A.&nbsp;Theodore Markettos, J.&nbsp;Edward Maste, Alfredo Mazzinghi, Edward&nbsp;Tomasz
  Napierala, Robert&nbsp;M. Norton, Michael Roe, Peter Sewell, Stacey Son, and
  Jonathan Woodruff.
 In ASPLOS 2019, Best paper award.
[&nbsp;<a href="cheriformal_bib.html#cheriABIsub">bib</a>&nbsp;| 
<a href="http://dx.doi.org/10.1145/3297858.3304042">DOI</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/research/security/ctsrd/cheri/">project page</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/research/security/ctsrd/pdfs/201904-asplos-cheriabi.pdf">pdf</a>&nbsp;| 
<a href="http://doi.acm.org/10.1145/3297858.3304042">http</a>&nbsp;| 
<a href="cheriformal_abstracts.html#cheriABIsub">abstract</a>&nbsp;]

</li>


<li>
<a name="CHERIconcentrate"></a>


CHERI Concentrate: Practical Compressed
  Capabilities.
 Jonathan Woodruff, Alexandre Joannou, Hongyan Xia, Anthony Fox,
  Robert Norton, Thomas Bauereiss, David Chisnall, Brooks Davis, Khilan Gudka,
  Nathaniel&nbsp;W. Filardo, A.&nbsp;Theodore Markettos, Michael Roe, Peter&nbsp;G. Neumann,
  Robert N.&nbsp;M. Watson, and Simon&nbsp;W. Moore.
 <em>IEEE Transactions on Computers</em>, 2019.
[&nbsp;<a href="cheriformal_bib.html#CHERIconcentrate">bib</a>&nbsp;| 
<a href="http://dx.doi.org/10.1109/TC.2019.2914037">DOI</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/research/security/ctsrd/pdfs/2019tc-cheri-concentrate.pdf">pdf</a>&nbsp;| 
<a href="cheriformal_abstracts.html#CHERIconcentrate">abstract</a>&nbsp;]

</li>


<li>
<a name="UCAM-CL-TR-932"></a>


CheriABI: Enforcing valid pointer provenance and minimizing
  pointer privilege in the POSIX C run-time environment.
 Brooks Davis, Robert N.&nbsp;M. Watson, Alexander Richardson, Peter&nbsp;G.
  Neumann, Simon&nbsp;W. Moore, John Baldwin, David Chisnall, James Clarke,
  Nathaniel&nbsp;Wesley Filardo, Khilan Gudka, Alexandre Joannou, Ben Laurie,
  A.&nbsp;Theodore Markettos, J.&nbsp;Edward Maste, Alfredo Mazzinghi, Edward&nbsp;Tomasz
  Napierala, Robert&nbsp;M. Norton, Michael Roe, Peter Sewell, Stacey Son, and
  Jonathan Woodruff.
 Technical Report UCAM-CL-TR-932, University of Cambridge, Computer
  Laboratory, January 2019.
[&nbsp;<a href="cheriformal_bib.html#UCAM-CL-TR-932">bib</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/research/security/ctsrd/cheri/">project page</a>&nbsp;| 
<a href="https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-932.pdf">pdf</a>&nbsp;| 
<a href="cheriformal_abstracts.html#UCAM-CL-TR-932">abstract</a>&nbsp;]

</li>


<li>
<a name="sail-popl2019"></a>


ISA Semantics for ARMv8-A, RISC-V, and
  CHERI-MIPS.
 Alasdair Armstrong, Thomas Bauereiss, Brian Campbell, Alastair Reid,
  Kathryn&nbsp;E. Gray, Robert&nbsp;M. Norton, Prashanth Mundkur, Mark Wassell, Jon
  French, Christopher Pulte, Shaked Flur, Ian Stark, Neel Krishnaswami, and
  Peter Sewell.
 In POPL 2019, Proc. ACM Program. Lang. 3, POPL, Article 71.
[&nbsp;<a href="cheriformal_bib.html#sail-popl2019">bib</a>&nbsp;| 
<a href="http://dx.doi.org/10.1145/3290384">DOI</a>&nbsp;| 
<a href="http://www.cl.cam.ac.uk/users/pes20/sail/popl2019.html">supplementary material</a>&nbsp;| 
<a href="http://www.cl.cam.ac.uk/~pes20/sail/">project page</a>&nbsp;| 
<a href="http://www.cl.cam.ac.uk/users/pes20/sail/sail-popl2019.pdf">pdf</a>&nbsp;| 
<a href="cheriformal_abstracts.html#sail-popl2019">abstract</a>&nbsp;]

</li>


<li>
<a name="cerberus-popl2019"></a>


Exploring C Semantics and Pointer Provenance.
 Kayvan Memarian, Victor B.&nbsp;F. Gomes, Brooks Davis, Stephen Kell,
  Alexander Richardson, Robert N.&nbsp;M. Watson, and Peter Sewell.
 In POPL 2019, Proc. ACM Program. Lang. 3, POPL, Article 67. Also
  available as ISO/IEC JTC1/SC22/WG14 N2311.
[&nbsp;<a href="cheriformal_bib.html#cerberus-popl2019">bib</a>&nbsp;| 
<a href="http://dx.doi.org/10.1145/3290380">DOI</a>&nbsp;| 
<a href="http://www.cl.cam.ac.uk/users/pes20/cerberus/supplementary-material-popl2019">supplementary material</a>&nbsp;| 
<a href="http://www.cl.cam.ac.uk/~pes20/cerberus">project page</a>&nbsp;| 
<a href="http://www.cl.cam.ac.uk/users/pes20/cerberus/cerberus-popl2019.pdf">pdf</a>&nbsp;| 
<a href="cheriformal_abstracts.html#cerberus-popl2019">abstract</a>&nbsp;]

</li>


<li>
<a name="rems-fmcad16"></a>


Extracting Behaviour from an Executable Instruction Set
  Model.
 Brian Campbell and Ian Stark.
 In FMCAD 2016, Full proceedings
  <a href="http://www.cs.utexas.edu/users/hunt/FMCAD/FMCAD16/proceedings/fmcad-2016-proceedings.pdf">http://www.cs.utexas.edu/users/hunt/FMCAD/FMCAD16/proceedings/fmcad-2016-proceedings.pdf</a>.
[&nbsp;<a href="cheriformal_bib.html#rems-fmcad16">bib</a>&nbsp;| 
<a href="http://homepages.inf.ed.ac.uk/bcampbe2/rems/fmcad16.pdf">pdf</a>&nbsp;| 
<a href="cheriformal_abstracts.html#rems-fmcad16">abstract</a>&nbsp;]

</li>


<li>
<a name="Cerberus-PLDI16"></a>


Into the depths of C: elaborating the de facto
  standards.
 Kayvan Memarian, Justus Matthiesen, James Lingard, Kyndylan Nienhuis,
  David Chisnall, Robert&nbsp;N.M. Watson, and Peter Sewell.
 In PLDI 2016, PLDI 2016 Distinguished Paper award.
[&nbsp;<a href="cheriformal_bib.html#Cerberus-PLDI16">bib</a>&nbsp;| 
<a href="http://dx.doi.org/10.1145/2908080.2908081">DOI</a>&nbsp;| 
<a href="http://www.cl.cam.ac.uk/~pes20/cerberus">project page</a>&nbsp;| 
<a href="http://www.cl.cam.ac.uk/users/pes20/cerberus/pldi16.pdf">pdf</a>&nbsp;| 
<a href="http://doi.acm.org/10.1145/2908080.2908081">http</a>&nbsp;| 
<a href="cheriformal_abstracts.html#Cerberus-PLDI16">abstract</a>&nbsp;]

</li>
</ul>

</body>
