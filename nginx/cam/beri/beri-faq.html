<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- DO NOT EDIT: file automatically generated by ucampas from
     /Users/graemejenkinson/cheri-website/cam/beri/beri-faq-b.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><meta content="text/css" http-equiv="Content-Style-Type" /><title>BERI frequently asked questions (FAQ)</title><link rel="stylesheet" type="text/css" media="all" href="https://www.cl.cam.ac.uk/style/layout.css" /><link rel="stylesheet" type="text/css" media="print" href="https://www.cl.cam.ac.uk/style/print.css" /><link href="https://www.cl.cam.ac.uk/style/blue.css" media="all" rel="stylesheet" type="text/css" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style type="text/css">
</style><link href="downloads-hw.html" rel="Next" /><link href="." rel="Up" /></head><body class="two-col dept">
<div id="skip"> <a href="#skip-content" accesskey="2">Skip to content</a>&#160;|&#160;<a href="https://www.cam.ac.uk/site/accesskeys.html" accesskey="0">Access key help</a> </div><div id="header">
  <div id="branding"><a href="https://www.cam.ac.uk/" accesskey="1"><img src="https://www.cl.cam.ac.uk/images/identifier.svg" alt="University of Cambridge" class="ucam" /></a>
  </div>

    <div id="site-search">

    <form action="http://web-search.cam.ac.uk/query.html" method="get">
      <fieldset>
      <label for="search-term">Search</label>
      <input name="qt" type="text" id="search-term" accesskey="4" value="" />
      <input id="search-button" src="https://www.cl.cam.ac.uk/images/button-search.gif" value="Search" alt="Search" title="Search" type="image" />
      </fieldset>
    </form>

    </div>
</div>

<div id="dept-title">
<h1><a href="../"></a></h1></div>

<div id="container"> <a name="skip-content" id="skip-content"></a>
<ul id="nav-breadcrumb"></ul><ul id="nav-primary"><li><div><a href="../">CTSRD&#160;&#187;</a></div></li><li><div><a href="../news.html">Project news</a></div></li><li><div><a href=".">Bluespec Extensible RISC Implementation (BERI)&#160;&#187;</a></div><ul><li class="active"><div><a href="beri-faq.html">BERI frequently asked questions (FAQ)</a></div></li><li><div><a href="downloads-hw.html">BERI open-source hardware downloads</a></div></li><li><div><a href="downloads-sw.html">BERI open-source software downloads</a></div></li><li><div><a href="documentation.html">BERI documentation</a></div></li><li><div><a href="mailinglists.html">BERI mailing lists</a></div></li></ul></li><li><div><a href="../../capsicum/">Capsicum&#160;&#8594;</a></div></li><li><div><a href="../cheri/">Capability Hardware Enhanced RISC Instructions (CHERI)&#160;&#187;</a></div></li><li><div><a href="../soaap/">Security-Oriented Analysis of Application Programs (SOAAP)&#160;&#187;</a></div></li><li><div><a href="../tesla/">Temporally Enhanced Security Logic Assertions (TESLA)&#160;&#187;</a></div></li><li><div><a href="../smten.html">Enhancing the Satisfiability Modulo Theories Experience (Smten)</a></div></li><li><div><a href="../publications.html">Publications</a></div></li><li><div><a href="../data/">Open Data&#160;&#187;</a></div></li><li><div><a href="../posters-slides.html">Posters and slides</a></div></li><li><div><a href="../people.html">Project members</a></div></li><li><div><a href="../related.html">Related</a></div></li></ul><div id="content"><div id="sub-brand"><p class="section">BERI</p></div><div id="content-primary">

<img width="200" src="../images/20120525-swm-beri-de4-photo.jpg" align="right" />

<h1>BERI frequently asked questions (FAQ)</h1>

<p>
  Here are answers to some of the common questions we've received (or in some
  cases, anticipate) about BERI.
  See the <a href="../beri/faq.html">CHERI FAQ</a> for questions about the
  CHERI ISA and prototype.
</p>



<h2>
  BERI processor and software stack
</h2>

<dl>
<dt><b>What is BERI?</b></dt>
<dd>
  <p>BERI is the Bluespec Extensible RISC Implementation, a 64-bit pipelined
    RISC processor developed by <a href="http://www.csl.sri.com/">SRI
    International</a> and the <a href="http://www.cl.cam.ac.uk/">University of
    Cambridge Computer Laboratory</a> as part of our joint <a href="http://www.cl.cam.ac.uk/research/security/ctsrd/">CTSRD Project</a>
    on revising the hardware-software interface for security.
    BERI implements a 1994-vintage variant on the 64-bit MIPS ISA including
    floating-point unit (FPU), a programmable interrupt controller (PIC), and
    in-progress support for multithreading and multicore operation.</p>

  <p>BERI is written in <a href="http://www.bluespec.com/">Bluespec System
    Verilog</a>, a Haskell-drived high-level hardware description language (HDL)
    that makes it easy to perform design-space exploration.
    In typical use, we synthesise BERI to Altera or Xilinx FGPAs, but also
    perform some development and testing work in simulation.
    On the Altera-based Terasic DE4 board, we clock BERI at 100MHz, and for
    cache-resident workloads, experience a CPI close to 1.0.</p>

  <p>Our hardware-software research is facilitated by a large-scale software
    corpus (more below), and in normal operation we SSH into a UNIX shell on
    BERI and use it as a general-purpose computer to the greatest extent
    possible.
    BERI's open-source software stack includes the <a href="http://www.freebsd.org/">FreeBSD operating system</a> and <a href="http://ports.freebsd.org/">tens of thousands of third-party
    applications</a>.</p>

  <p>Development of BERI and CHERI was supported by grants from DARPA and
    Google.</p>
</dd>

<dt><b>What do you use BERI for at SRI/Cambridge?</b></dt>
<dd>
  <p>We designed BERI to support research into the hardware-software
    interface, with our first major research project being <a href="../cheri.html">Capability Hardware Enhanced RISC Instructions
    (CHERI)</a>; it has also seen use in research into formal verification,
    processor multithreading, and other instruction-set-level experimnetation
    at both the masters and PhD level.
    We also use BERI in our masters' <a href="http://www.cl.cam.ac.uk/teaching/1314/P34/">course in computer
    architecture</a>, and hope to deploy BERI in further hardware-software
    teaching in the future.</p>
</dd>

<dt><b>What software does BERI support?</b></dt>
<dd>
  <p>A realistic software corpus is critical to performing and evaluating
    architectural research, so we have invested considerable effort in adding
    processor features required to support off-the-shelf software (e.g.,
    mature MMU and exception handling), and in bringing up a large-scale
    open-source software stack on BERI.
    This includes the <a href="http://www.freebsd.org/">FreeBSD UNIX operating
    system</a>, <a href="http://www.llvm.org/">Clang/LLVM compiler suite</a>,
    and <a href="http://ports.freebsd.org/">tens of thousands of third-party
    open-source applications</a>.
    We will usually cross-compile from higher-performance x86 systems, but it
    is also possible to compile software on BERI itself.</p>
</dd>

<dt><b>What is BERI2</b></dt>
<dd>
  <p>BERI1 is the first version of the BERI processor, focused on experimental
    implementation of the <a href="../cheri.html">CHERI ISA</a> and providing
    a hardware-software research platform suitable for daily use in teaching
    and research.
    BERI2 is a reimplementation of the core BERI1 pipeline using a stylised
    form of Bluespec more suitable for formal verification; it also implements
    a basic form of hardware multithreading.
    BERI1 and BERI2 share many core functions including memory subsystem, buses,
    and peripheral devices, and both support the <a href="http://www.freebsd.org/">FreeBSD UNIX operating system</a>.
    For experimentation with processor design in a teaching or research setting,
    we would likely recommend BERI1 as a first choice; for research into formal
    verification of hardware designs, BERI2 might be preferred.</p>
</dd>

<dt><b>Does BERI support multicore?</b></dt>
<dd>
  <p>Yes; however, it is an early prototype and not yet able to support a full
    software stack (e.g., OS).
    You can find the current prototype code in the BERI distribution available
    for download, and we have developed initial software-side support to be
    used once the hardware is more mature.
    We are pursuing this actively and hope to announce more here soon!</p>
</dd>

<dt><b>What debugging tools and testing tools exist for BERI?</b></dt>
<dd>
  <p>We develop BERI in both simulation and synthesis to FPGA.
    There is extensive debug-tracing output available in the latter,
    configurable from the simulator command line; this includes ISA-level
    tracing (providing a clean trace entry for each instruction committed),
    and lower-level tracing that tracks cache operation, etc.
    In synthesis, BERI has a debug unit that can be attached to over JTAG,
    allowing control of the processor pipeline, tracing of instructions, etc.
    These tools are useful for both hardware and software debugging.
    We have developed an extensive ISA-level test suite, use fuzzing tools to
    help detect pipeline and exception-handling bugs, and also test a large
    software corpus (including a general-purpose operating system) against
    BERI.
    We use Jenkins to run the test suite to several different BERI and CHERI
    configurations on each commit to our source repository, adopting a
    continuous integration model to quickly detect regressions.</p>
</dd>

<dt><b>Why the Bluespec HDL?</b></dt>
<dd>
  <p>A key aspect of our <a href="../cheri.html">CHERI Project</a> was
    exploring how ISA-level changes in memory protection and security model
    can support stronger compiler-, OS-, and application-facing software
    security models.
    This required rapid prototyping (although BERI did take almost four years
    to implement!) and the ability to rapidly change aspects of the design, a
    task made markedly easier by using Bluespec.
    Use of a high-level language is a key differentiator between BERI and many
    previous open-source processor designs, and makes it particular suitable
    for research and teaching.
    Bluespec depends on a proprietary toolchain, as do many hardware design
    tools, but can be compiled to C or Verilog, which may be redistributed and
    used without the tools.
    Bluespec provides generous academic licensing that has met our needs well.
</p></dd>

<dt><b>What FPGA boards do you use?</b></dt>
<dd>
  <p>Our most heavily used platform is Terasic's DE4 board, which includes a
    fairly high-end Altera FPGA able to implement BERI at 100MHz.
    We have also used Altera's tPad board, and have an experimental adaptation
    to the Xilinx-based NetFPGA 10G board.
    While BERI is not specific to any particular FPGA, it relies on an AXI bus
    attachment, the floating-point unit has been tested only with Altera's
    floating-point library, and the software stack will of course also require
    device drivers for peripherals found on the AXI bus.
    FreeBSD supports a number of Altera and Xilinx peripherals, as well as
    other commonly available embedded parts.
    We are happy to offer advice on how to adapt FreeBSD to support further
    devices you may encounter.</p>
</dd>

<dt><b>What is FreeBSD?</b></dt>
<dd>
  <a href="http://www.freebsd.org/">FreeBSD</a> is an open-source UNIX
  operating system derived from the Berkely Software Distribution (BSD).
  FreeBSD is widely used in service-provider environments, as a foundation for
  appliance and embedded devices and operating systems (e.g., Netflix's
  video streaming service, the F root name server, NetApp Filers, EMC/Isilon
  storage devices, Juniper routers, Apple's Mac OS X and iOS operating
  systems, and Sony's Playstation 3 and 4).
  FreeBSD provides a full UNIX environment with support for multithreading
  and multiprocessing, the UNIX process model, TCP/IP networking, multiple
  filesystems, support for many embedded targets, advanced security features
  such as capability-system support, integrated tracing using DTrace, and is
  built using the Clang/LLVM compiler suite.
  FreeBSD supports mature cross compilation, so we will typically develop
  software on a 64-bit FreeBSD x86 system, copying compiled binaries over to
  BERI systems to execute.
</dd>

<dt><b>Why FreeBSD?</b></dt>
<dd>
  <p>We have used FreeBSD in significant amounts of past research, but found
    three features in particular compelling to use the OS for our BERI and
    <a href="../cheri.html">CHERI</a> projects: integrated support for
    capability-system-based security (Capsicum), the DTrace tracing system, and
    agressive early adoption of the Clang/LLVM compiler suite on which we
    depend heavily for ISA and software transformation/analysis research.
    FreeBSD's commercialisation-friendly license was also relevant.</p>
</dd>

<dt><b>How did you port FreeBSD to BERI?</b></dt>
<dd>
  <p>BERI implements an ISA roughly similar to that found in the 1993 MIPS
    4000 processor, although with substantial changes including those required
    to provide efficient implementation on FPGA.
    We therefore started with the existing FreeBSD/MIPS port, creating a new
    BERI platform support package, and developing drivers for BERI-specific
    peripherals such as the BERI programmable interrupt controller (PIC).
    We wrote new device drivers for a variety of hard and soft cores available
    on Altera and Xilinx boards of interest, including for the Altera JTAG
    UART, Altera Triple-Speed Ethernet MAC, Altera University Program SD Card
    Core, and Philips ISP1761 USB controller.
    We similarly improved drivers such as that for the Intel Strata Flash
    found on Terasic's DE4 FPGA board.
    We also ported FreeBSD's boot2 and loader boot environments to the MIPS
    ISA, work that should benefit other non-BERI systems.
    We have an in-progress adaptation of FreeBSD/BERI supporting BERI's early
    multicore support.
  </p>
</dd>

<dt><b>How can I contribute to BERI?</b></dt>
<dd>
  <p>We require all contributors to BERI to sign an individual or
    institutional contributors agreement (or, in some cases, both, if you
    contribute in both individual and employed capacities); you can find these
    on the <a href="http://www.beri-open-systems.org">BERI Open Systems
    CIC</a> website.
    Our Subversion revision-control repository is not currently public, but we
    hope that this will change in the future (probably, this would coincide
    with a migration to Git and some rearrangement of the repository, hence
    our being uncertain on the timescale).
    However, you can submit patches to us directly by e-mail, or via the
    cl-beri-discuss mailing list.
    We will produce new releases intermittently that incorporate suitable
    changes.
    We cannot guarantee to include all modifications that we receive, for all
    of the obvious reasons!</p>
</dd>
</dl>

</div></div><ul id="site-info"><li class="copy">&#169; 2010-2016 Robert N. M. Watson<br />Information provided by <a href="/~rnw24/">Robert Watson</a></li></ul></div>
</body></html>